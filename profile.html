firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();
const auth = firebase.auth();

document.getElementById('saveProfile').addEventListener('click', async () => {
  const user = auth.currentUser;
  if (user) {
    const username = document.getElementById('username').value;
    const bio = document.getElementById('bio').value;
    await db.collection('users').doc(user.uid).set({ username, bio }, { merge: true });
    alert('Profile saved');
  } else {
    alert('You must be logged in to save your profile.');
  }
});
